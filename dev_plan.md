Timeet 개발 계획 문서 (dev_plan.md)

## 0. 개요

- 기준 문서: `prd_2nd.md`
- 목표: Timeet 예약 관리 시스템의 **프론트엔드 MVP**를 단계적으로 구현할 수 있는 개발 계획 수립
- 기술 스택
  - **React**, **TypeScript**
  - **Tailwind CSS**
  - **Recharts**
  - 상태 관리: **React Context API**
  - 데이터: 목업 데이터 (`MOCK_RESERVATIONS`, `MOCK_SERVICES`, `MOCK_SHOPS`) 기반

> 추정도는 1명 풀타임 기준 대략적인 개발 기간입니다. 실제 속도에 따라 조정 가능합니다.

---

## Phase 0. 프로젝트 세팅 및 공통 레이아웃

**목표**  
기본 개발 환경과 레이아웃, 역할 전환 구조를 잡는다.

**작업 항목**
- React + TypeScript 프로젝트 초기화 (Vite/CRA 등)
- Tailwind CSS 설정
- 공통 레이아웃 구성
  - 상단 헤더: 역할 선택(고객/점주/관리자)
  - 메인 영역: 역할에 따라 다른 화면 렌더링
- 라우팅 구조(선택)
  - 단일 페이지 내 역할 스위칭 or `/customer`, `/owner`, `/admin` 라우트
- 전역 상태 관리 기본 세팅
  - `AppContext` 또는 `ReservationContext`/`ServiceContext`/`ShopContext` 골격 정의

**산출물**
- 빌드 & 실행 가능한 기본 프로젝트
- 역할 전환 UI가 동작하는 기본 화면(더미 데이터)

**추정도**
- 약 **1~2일**

---

## Phase 1. 데이터 모델 & 목업 데이터 설계

**목표**  
예약/서비스/운영 시간에 대한 **타입과 목업 데이터**를 정의하고, PRD 규칙과 정합성을 맞춘다.

**작업 항목**
- TypeScript 인터페이스 정의
  - `Service`
    - `id`, `name`, `durationMinutes`, `price`, `description?`, `isActive`
  - `Reservation`
    - `id`, `customerName`, `serviceId`, `shopId`
    - `startTime`, `endTime` (1분 단위 / ISO string 등)
    - `status`: `'PENDING' | 'CONFIRMED' | 'CANCELLED'`
    - `memo?`, `createdAt`
  - `Shop`/`OwnerShopSetting`
    - `id`, `name`
    - `businessHours`: 요일별 시작/종료 시간
    - `breakTimes`: 점심/브레이크 타임 구간
- 시간 규칙 정리
  - 시스템 내부 시간 단위: **1분**
  - 예약/서비스/운영시간 모두 1분 단위로 관리
- 예약 상태/충돌 규칙 반영
  - `Pending`/`Confirmed` → 충돌 대상으로 간주
  - `Cancelled` → 충돌 검사 제외
  - 고객/점주가 생성한 예약의 기본 상태: `Confirmed`
- 목업 데이터 생성
  - 2~3개 매장, 각 매장별 몇 개의 서비스
  - 다양한 시간대의 예약 데이터를 생성 (충돌/비충돌 케이스 포함)

**산출물**
- `types.ts` (또는 동등한 타입 정의 파일)
- `mockData.ts` (서비스/예약/운영시간 샘플 데이터)

**추정도**
- 약 **1~2일**

---

## Phase 2. 고객 화면 (Customer View)

**목표**  
고객이 **캘린더 기반으로 예약을 생성/조회/수정/취소**할 수 있는 플로우를 구현한다.

### 2-1. 고객 캘린더 UI

**작업 항목**
- Day / Week / Month 뷰 전환 UI
- 매장 운영 시간/브레이크 타임을 반영한 예약 가능 영역 표시
- 내부 로직:
  - 1분 단위 시간 관리
  - UI는 30분/1시간 슬롯 단위로 묶어 표현(시각화용)
- 월 뷰:
  - 일자별 예약 건수 표시
  - 날짜 클릭 시 해당 날짜 Day 뷰로 이동

**추정도**
- 약 **2~3일**

### 2-2. 예약 생성 플로우

**작업 항목**
- 빈 슬롯 클릭 → 예약 생성 모달
- 입력 필드: 서비스, 이름, 메모
- 예약 생성 로직
  - 선택한 슬롯 기준 `startTime` 계산
  - `durationMinutes` 기반 `endTime` 계산
  - 운영 시간 내 여부 검사
  - 충돌 검사
    - `Pending`/`Confirmed`와 1분이라도 겹치면 생성 불가
- 성공 시:
  - 상태 `Confirmed`로 예약 저장
  - 캘린더에 즉시 반영

**추정도**
- 약 **2~3일**

### 2-3. 내 예약 목록

**작업 항목**
- 이름(간단한 필터 키) 기반 자기 예약 목록 조회
- 리스트에 예약 시간/서비스/상태 표시
- 수정/취소 기능
  - 수정: 동일한 충돌/운영시간 규칙 적용
  - 취소: 상태를 `Cancelled`로 변경, 캘린더 반영

**추정도**
- 약 **2일**

**Phase 2 전체 추정도**
- 약 **1~1.5주**

---

## Phase 3. 점주 대시보드 (Owner View)

**목표**  
점주가 **캘린더, 예약, 서비스, 운영 시간**을 통합 관리할 수 있게 한다.

### 3-1. 점주용 통합 캘린더

**작업 항목**
- 점주 계정(또는 선택된 매장) 기준으로 모든 예약 표시
- 상태별 색상(Confirmed / Cancelled) 적용
- 예약 클릭 시 상세 모달:
  - 고객명, 서비스명, 메모, 시간, 상태, 매장 정보 등 표시

**추정도**
- 약 **2일**

### 3-2. 점주 예약 관리

**작업 항목**
- 상세 모달에서:
  - 상태 변경: `Confirmed` ↔ `Cancelled`
  - 시간 수정: 운영 시간/충돌 규칙 내에서 변경
- 점주의 직접 예약 생성
  - 캘린더 빈 슬롯 or "예약 추가" 버튼
  - 고객 이름, 서비스, 시간, 메모 입력
  - 동일한 충돌/운영 시간 규칙 적용
  - 예약 상태 기본값: `Confirmed`

**추정도**
- 약 **3일**

### 3-3. 서비스 관리

**작업 항목**
- 서비스 목록 UI
  - 이름, 소요 시간(분), 가격, 활성 여부 등
- 추가/수정/삭제
- `durationMinutes` 검증 (예: 1분 이상, 최대값 제한 등)

**추정도**
- 약 **2일**

### 3-4. 운영 시간/브레이크 타임 설정

**작업 항목**
- 요일별 운영 시작/종료 시간 설정 UI
- 점심/브레이크 타임 구간 설정
- 설정 변경 시:
  - 고객/점주 캘린더에서 예약 가능 영역 재계산

**추정도**
- 약 **3일**

**Phase 3 전체 추정도**
- 약 **2주**

---

## Phase 4. 관리자 대시보드 (Admin View)

**목표**  
예약/서비스 데이터를 기반으로 기본적인 **지표와 차트**를 제공한다.

### 4-1. 핵심 지표 카드

**작업 항목**
- 총 예약 수
- 확정(Confirmed) 예약 수
- 대기(Pending) 예약 수(향후 사용 대비)
- 총 예상 매출액 (서비스 가격 × 예약 수 단순 합)

**추정도**
- 약 **1~2일**

### 4-2. 차트

**작업 항목**
- 예약 상태 분포 파이 차트
  - `Confirmed`, `Cancelled`, `Pending`
- 서비스별 예약 횟수 바 차트
- 기간/점주 등 간단 필터링(가능하면 1차 버전에 포함)

**추정도**
- 약 **2~3일**

### 4-3. 전체 예약 목록

**작업 항목**
- 테이블 컬럼:
  - 고객명, 서비스명, 점주/매장, 예약 시간, 상태
- 필터:
  - 기간, 점주, 상태
- 정렬:
  - 예약 시간, 생성일 등

**추정도**
- 약 **2일**

**Phase 4 전체 추정도**
- 약 **1~1.5주**

---

## Phase 5. 반응형 & UX 마감 ✅

**목표**  
**모바일/태블릿 우선**으로 반응형과 UX 디테일을 다듬는다.

**작업 항목**
- ✅ 모바일/태블릿 레이아웃 튜닝
  - ✅ 캘린더, 모달, 리스트, 테이블의 브레이크포인트 최적화
- ✅ 로딩/에러/성공 피드백 정리
  - ✅ Toast 알림 시스템 구축 (ToastContext, Toast 컴포넌트)
  - ✅ 예약 생성/수정/취소 시 Toast 알림 통합
  - ✅ 로딩 인디케이터 (LoadingSpinner, LoadingOverlay)
- ✅ 상태별 색상/레전드 명시
  - ✅ Confirmed / Cancelled / Pending 색 규칙 문서화
- ✅ 반응형 개선
  - ✅ Header 모바일 최적화
  - ✅ CustomerPage 모바일 레이아웃
  - ✅ OwnerPage 모바일 레이아웃
  - ✅ AdminPage 테이블 → 카드 레이아웃 (모바일)

**산출물**
- ✅ 모바일/태블릿에서 실제 사용 가능한 수준의 UX
- ✅ Toast 알림 시스템
- ✅ 로딩 인디케이터
- ✅ 완전한 반응형 UI
- ✅ README.md 문서화

**추정도**
- 약 **1주**

**완료일**
- 2025년 11월 18일

---

## Phase 6. 향후 확장 (Backlog)

**목표**  
MVP 이후 고려할 기능을 미리 리스트업해 두고 우선순위를 조정한다.

**후보 항목**
- 사용자 인증/로그인
  - 고객/점주/관리자 계정 및 권한 연동
- 실제 백엔드 & DB 연동
  - REST/GraphQL API 설계
  - 영속 데이터 저장/조회
- 실시간 알림
  - 이메일/SMS/푸시 알림
- 결제/취소 정책
  - 온라인 결제 연동
  - 취소 수수료 및 환불 규칙
- 다중 직원/리소스 관리
  - 직원별 캘린더
  - 직원/리소스별 예약 가능 시간 관리

**추정도**
- 기능별로 추가 산정 필요 (MVP 완료 후 결정)

---

## 전체 일정 개략 (1인 기준)

- Phase 0 ~ 1: 약 **1.5주**
- Phase 2: 약 **1~1.5주**
- Phase 3: 약 **2주**
- Phase 4: 약 **1~1.5주**
- Phase 5: 약 **1주**

→ 총합: 대략 **6~7주 수준의 MVP 작업량** (여유 없이 직진 기준)
