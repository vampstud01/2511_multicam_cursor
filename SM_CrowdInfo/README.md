# 🚇 서울 지하철 혼잡도 대시보드

서울 지하철의 시간대별 혼잡도 정보를 시각적으로 분석할 수 있는 인터랙티브 대시보드입니다.

## 📋 주요 기능

### 🎯 1. 나의 출퇴근 시간 맞춤 분석 (NEW!)
- 출발역과 도착역을 설정하여 **개인화된 혼잡도 분석**
- 선택한 시간대의 **출발역/도착역 혼잡도 비교**
- 더 쾌적한 출근 시간 **자동 추천**
- "10분만 일찍 출발하면 20% 덜 혼잡합니다" 같은 실용적인 인사이트

### ⚖️ 2. 역 비교 기능 (NEW!)
- **최대 5개 역을 동시에 선택**하여 비교
- 시간대별 혼잡도 추이를 **한눈에 비교**
- 각 역의 평균/최대/최소 혼잡도 통계
- 가장 혼잡한/한가한 시간대 정보

### 🕐 3. 지금 타기 좋은 시간 (NEW!)
- **현재 시간 기준** 실시간 혼잡도 표시
- 향후 2-3시간의 **혼잡도 변화 예측**
- "30분 후에 혼잡도 20% 감소" 같은 즉시 활용 가능한 정보
- 과거/미래 추이를 시각적으로 표현

### 🔄 4. 상행선/하행선 방향별 분석 (NEW!)
- 출근시간(07-09시)과 퇴근시간(18-20시) **혼잡도 비교**
- 호선별 하루 전체 혼잡도 패턴 분석
- 역별 출퇴근 시간대 혼잡도 비교
- "역류 출퇴근"에 유용한 정보 제공

### 📊 5. 전체 대시보드
- **운영기관별/호선별** 필터링
- **요일 구분** (평일/주말)
- **역명 검색** 기능
- 시간대별 평균 혼잡도 추이
- 평일/주말 비교 차트
- 역별 혼잡도 히트맵
- TOP 10 혼잡 역 목록

### 📄 6. PDF 보고서 생성 (NEW! 🎉)
- **전문적인 A4 PDF 보고서** 자동 생성
- 주요 발견사항 및 인사이트 요약
- 시각화된 차트 포함
- TOP 5 혼잡 역 상세 분석
- 평일/주말 비교 분석
- 실용적인 권장사항 제공
- **ReportLab** 기반 고품질 레이아웃

### 7. 주요 통계
- 평균 혼잡도
- 최대 혼잡도
- 분석 대상 역 개수
- 피크 시간대

## 🚀 설치 및 실행 방법

### 1. 필수 요구사항
- Python 3.8 이상
- pip (Python 패키지 관리자)

### 2. 패키지 설치

```bash
pip install -r requirements.txt
```

### 3. 실행

```bash
streamlit run app.py
```

실행 후 브라우저에서 자동으로 `http://localhost:8501` 주소가 열립니다.

## 📁 파일 구조

```
SM_CrowdInfo/
├── SM_CrowdInfo.csv      # 지하철 혼잡도 데이터
├── app.py                # Streamlit 대시보드 메인 파일
├── requirements.txt      # 필요한 Python 패키지 목록
└── README.md            # 프로젝트 설명서
```

## 📊 데이터 정보

- **데이터 출처**: 서울교통공사 지하철 혼잡도 정보
- **시간 간격**: 30분 단위 (05:30 ~ 00:30)
- **혼잡도 단위**: 백분율 (%)
- **포함 정보**:
  - 운영기관
  - 호선
  - 역번호
  - 역명
  - 요일구분 (평일/주말)
  - 시간대별 혼잡도

## 🎨 사용 기술

- **Streamlit**: 웹 대시보드 프레임워크
- **Pandas**: 데이터 처리 및 분석
- **Plotly**: 인터랙티브 차트 및 시각화
- **NumPy**: 수치 연산

## 💡 사용 팁

### 🎯 출퇴근에 활용하기
1. **"나의 출퇴근 분석" 탭**: 
   - 출발역과 도착역을 설정하고 평소 출근 시간을 선택
   - 추천된 시간대로 출발하면 더 쾌적하게 이동 가능!

2. **"지금 타기 좋은 시간" 탭**:
   - 급하게 외출할 때 현재 시간 기준으로 확인
   - "30분만 기다리면 덜 혼잡" 같은 정보로 시간 조절

### ⚖️ 여러 역 비교하기
3. **"역 비교" 탭**:
   - 집 근처 여러 역 중 어디가 덜 혼잡한지 비교
   - 환승역에서 여러 노선 중 어느 쪽이 나은지 확인

### 🔄 출퇴근 패턴 파악
4. **"상행선/하행선 분석" 탭**:
   - 역류 출퇴근(외곽→도심 출근)이면 덜 혼잡한 시간대 확인
   - 호선별 출퇴근 시간대 차이 비교

### 📊 전체 현황 보기
5. **"전체 대시보드" 탭**:
   - 특정 역 검색으로 집중 분석
   - 히트맵에서 빨간색이 진할수록 혼잡도가 높음
   - 평일/주말 패턴 비교로 주말 외출 계획에 활용

### 📄 PDF 보고서 생성
6. **사이드바 "보고서 생성"**:
   - "PDF 보고서 생성" 버튼 클릭
   - 약 5-10초 후 보고서 생성 완료
   - "보고서 다운로드" 버튼으로 다운로드
   - 프레젠테이션, 회의 자료로 활용 가능

## 🔍 분석 예시

- **아침 출근 시간대**: 7시30분~9시 구간에서 상행선(도심 방향) 혼잡도가 높음
- **저녁 퇴근 시간대**: 18시~19시30분 구간에서 하행선(외곽 방향) 혼잡도가 높음
- **주말**: 평일 대비 출퇴근 시간대 혼잡도가 낮고, 오후 시간대에 완만한 증가 패턴

## 📝 참고사항

- 혼잡도 100% 이상은 매우 혼잡한 상태를 의미합니다.
- 데이터는 평균값으로, 실제 상황과 다를 수 있습니다.
- 최신 데이터로 업데이트하려면 `SM_CrowdInfo.csv` 파일을 교체하면 됩니다.

## 🛠️ 문제 해결

### 인코딩 오류 발생 시
```python
# app.py에서 인코딩 변경
df = pd.read_csv('SM_CrowdInfo.csv', encoding='utf-8')  # 또는 'euc-kr'
```

### 패키지 설치 오류 시
```bash
pip install --upgrade pip
pip install -r requirements.txt --no-cache-dir
```

### PDF 보고서 한글 폰트 문제
Windows의 경우 "맑은 고딕" 폰트가 자동으로 사용됩니다.
다른 운영체제에서는 나눔고딕 폰트를 설치하면 됩니다:
```bash
# Ubuntu/Debian
sudo apt-get install fonts-nanum

# macOS
brew install font-nanum-gothic
```

### Kaleido 관련 오류
차트 이미지 저장 시 문제가 발생하면:
```bash
pip install --upgrade kaleido
```

## 📄 라이선스

이 프로젝트는 공공 데이터를 활용한 분석 도구로, 교육 및 연구 목적으로 자유롭게 사용할 수 있습니다.

